<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Control avanzado de temas -->
    <script>
        // Aplicaci√≥n instant√°nea del tema antes de renderizar
        (function(){
            const savedTheme = localStorage.getItem('theme');
            const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const isDark = savedTheme ? savedTheme === 'dark' : systemDark;
            
            document.documentElement.classList.toggle('dark-mode', isDark);
            window.currentTheme = isDark ? 'dark' : 'light';
            document.documentElement.style.setProperty('--light-display', isDark ? 'none' : 'block');
            document.documentElement.style.setProperty('--dark-display', isDark ? 'block' : 'none');
        })();
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual Completo | Calculador de Presi√≥n Ruby</title>
    
    <!-- SEO y metadatos -->
    <meta name="description" content="Manual completo del Calculador de Presi√≥n Ruby para conversi√≥n precisa entre presi√≥n y n√∫mero de onda Raman">
    <meta name="keywords" content="presi√≥n ruby, c√°lculo DAC, espectroscop√≠a Raman, manual de usuario">
    
    <!-- Precargas -->
    <link rel="preload" href="/ruby-app-docs/assets/css/main.css" as="style">
    <link rel="preload" href="/ruby-app-docs/assets/js/app.js" as="script">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="/ruby-app-docs/assets/css/main.css">
    <link rel="stylesheet" href="/ruby-app-docs/assets/css/manual.css">
    
    <!-- Favicon -->
    <link rel="icon" href="/ruby-app-docs/assets/img/favicon.ico" sizes="any">
    <link rel="icon" href="/ruby-app-docs/assets/img/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/ruby-app-docs/assets/img/apple-touch-icon.png">
    
    <style>
        /* Transici√≥n suave para im√°genes sensibles al tema */
        .theme-sensitive-img {
            transition: opacity 0.4s ease;
        }
        .theme-sensitive-img[data-theme="light"] {
            display: var(--light-display, block);
        }
        .theme-sensitive-img[data-theme="dark"] {
            display: var(--dark-display, none);
        }
        .dark-mode .theme-sensitive-img[data-theme="light"] {
            display: none;
        }
        .dark-mode .theme-sensitive-img[data-theme="dark"] {
            display: block;
        }
    </style>
</head>

<body class="manual-page">
    <!-- Bot√≥n de cambio de tema accesible -->
    <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar tema" aria-live="polite">
        <span id="theme-icon" class="theme-icon">üåô</span>
    </button>

    <header class="manual-header">
        <div class="header-container">
            <h1>Calculador de Presi√≥n Ruby</h1>
            <p class="subtitle">Manual Completo de Usuario</p>
            
            <nav class="breadcrumb" aria-label="Navegaci√≥n estructural">
                <ol>
                    <li><a href="../es/index.html">Inicio</a></li>
                    <li aria-current="page">Manual</li>
                </ol>
            </nav>
        </div>
        
        <nav class="activity-nav" aria-label="Navegaci√≥n principal">
            <ul>
                <li><a href="#main-activity" class="nav-btn active" data-section="main">Pantalla Principal</a></li>
                <li><a href="#pressure-converter" class="nav-btn" data-section="pressure">Presi√≥n‚ÜíN√∫mero de Onda</a></li>
                <li><a href="#wavenumber-converter" class="nav-btn" data-section="wavenumber">N√∫mero de Onda‚ÜíPresi√≥n</a></li>
                <li><a href="#data-management" class="nav-btn" data-section="data">Gesti√≥n de Datos</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content" class="manual-container">
        <!-- Secci√≥n MainActivity -->
        <section id="main-activity" class="activity-section visible">
            <h2>Pantalla Principal</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="screenshot-container">
                        <img src="/ruby-app-docs/assets/img/screenshots/main-activity/es/light/full.webp" 
                             alt="Pantalla principal en modo claro mostrando ambos modos de conversi√≥n"
                             class="theme-sensitive-img"
                             data-theme="light"
                             loading="lazy">
                        <img src="/ruby-app-docs/assets/img/screenshots/main-activity/es/dark/full.webp" 
                             alt="Pantalla principal en modo oscuro"
                             class="theme-sensitive-img"
                             data-theme="dark"
                             loading="lazy">
                    </div>
                    
                    <div class="feature-details">
                        <h3>Navegaci√≥n B√°sica</h3>
                        <ul class="feature-list">
                            <li>
                                <span class="icon">üîÑ</span>
                                <strong>Cambiar entre modos:</strong> Toque los botones principales para alternar entre funciones de conversi√≥n
                            </li>
                            <li>
                                <span class="icon">üåì</span>
                                <strong>Tema visual:</strong> El bot√≥n en la esquina superior derecha alterna entre modos claro y oscuro
                            </li>
                            <li>
                                <span class="icon">üåê</span>
                                <strong>Idioma:</strong> El icono de globo permite seleccionar entre 5 idiomas disponibles
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="feature-card reverse">
                    <div class="feature-details">
                        <h3>Controles Superiores</h3>
                        <div class="controls-detail">
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/main-activity/es/light/controls.webp" 
                                     alt="Detalle de la barra de controles superiores en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/main-activity/es/dark/controls.webp" 
                                     alt="Detalle de la barra de controles superiores en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                                 
                            <ol class="controls-list">
                                <li><strong>Tema:</strong> Alterna entre colores claros y oscuros</li>
                                <li><strong>Idioma:</strong> Men√∫ con selecci√≥n de idioma</li>
                                <li><strong>Ayuda:</strong> Acceso r√°pido a este manual</li>                                
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n PressureToWavenumber -->
        <section id="pressure-converter" class="activity-section">
            <h2>Conversi√≥n de Presi√≥n a N√∫mero de Onda</h2>
            
            <div class="converter-grid">
                <div class="converter-details">
                    <h3>Funcionamiento Detallado</h3>
                    
                    <div class="parameter-section">
                        <h4>Configuraci√≥n del L√°ser</h4>
                        <div class="parameter-content">
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/light/laser-selection.webp" 
                                     alt="Men√∫ de selecci√≥n del l√°ser de excitaci√≥n en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/dark/laser-selection.webp" 
                                     alt="Men√∫ de selecci√≥n del l√°ser de excitaci√≥n en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                                 
                            <div class="parameter-desc">
                                <p>Seleccione la longitud de onda del l√°ser utilizado en su experimento:</p>
                                <ul>
                                    <li><strong>488nm:</strong> L√°ser de arg√≥n-ion</li>
                                    <li><strong>514.5nm:</strong> Est√°ndar dorado para ruby</li>
                                    <li><strong>532nm:</strong> L√°ser de estado s√≥lido</li>
                                    <li><strong>633nm:</strong> L√°ser HeNe</li>
                                    <li><strong>785nm:</strong> Para mediciones especiales</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="parameter-section">
                        <h4>Entrada de Presi√≥n</h4>
                        <div class="parameter-content reverse">
                            <div class="parameter-desc">
                                <p>Ingrese el valor de presi√≥n en <strong>Gigapascales (GPa)</strong>:</p>
                                <ul>
                                    <li>Rango v√°lido: 0 a 500 GPa</li>
                                    <li>Use punto o coma como separador decimal</li>
                                    <li>El c√°lculo se realiza autom√°ticamente</li>
                                </ul>
                            </div>
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/light/input-field.webp" 
                                     alt="Campo para ingresar la presi√≥n en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/dark/input-field.webp" 
                                     alt="Campo para ingresar la presi√≥n en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="converter-features">
                    <h3>Caracter√≠sticas Avanzadas</h3>
                    
                    <div class="feature-box">
                        <h4>Ajuste de Calibraci√≥n</h4>
                        <div class="feature-content">
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/light/offset-adjust.webp" 
                                     alt="Controles de ajuste fino en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/pressure-converter/es/dark/offset-adjust.webp" 
                                     alt="Controles de ajuste fino en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                                 
                            <div class="feature-desc">
                                <p>Compense variaciones instrumentales con el ajuste fino:</p>
                                <ol>
                                    <li>Seleccione el l√°ser deseado</li>
                                    <li>Use los botones <strong>+</strong> y <strong>-</strong> para ajustar</li>
                                    <li>El valor se guarda autom√°ticamente por l√°ser</li>
                                </ol>
                                <p class="note">Nota: El ajuste predeterminado es 0.0 cm‚Åª¬π</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n WavenumberToPressure -->
        <section id="wavenumber-converter" class="activity-section">
            <h2>Conversi√≥n de N√∫mero de Onda a Presi√≥n</h2>
            
            <div class="converter-grid">
                <div class="converter-details">
                    <h3>Funcionamiento Detallado</h3>
                    
                    <div class="parameter-section">
                        <h4>Entrada de N√∫mero de Onda</h4>
                        <div class="parameter-content">
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/light/input-field.webp" 
                                     alt="Campo de entrada en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/dark/input-field.webp" 
                                     alt="Campo de entrada en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                                 
                            <div class="parameter-desc">
                                <p>Ingrese el n√∫mero de onda Raman en <strong>cm‚Åª¬π</strong>:</p>
                                <ul>
                                    <li>El rango v√°lido var√≠a seg√∫n el l√°ser seleccionado</li>
                                    <li>Para l√°ser 785nm, se aceptan valores negativos</li>
                                    <li>El c√°lculo se realiza autom√°ticamente</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="converter-features">
                    <h3>Validaci√≥n Autom√°tica</h3>
                    
                    <div class="feature-box">
                        <div class="feature-content reverse">
                            <div class="feature-desc">
                                <p>La aplicaci√≥n verifica autom√°ticamente:</p>
                                <ul>
                                    <li>Si el valor est√° dentro del rango posible</li>
                                    <li>Si resultar√≠a en presi√≥n v√°lida (0-500 GPa)</li>
                                    <li>Muestra mensajes claros para valores inv√°lidos</li>
                                </ul>
                            </div>
                            <div class="screenshot-container">
                                <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/light/validation.webp" 
                                     alt="Mensaje de validaci√≥n en modo claro"
                                     class="theme-sensitive-img"
                                     data-theme="light"
                                     loading="lazy">
                                <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/dark/validation.webp" 
                                     alt="Mensaje de validaci√≥n en modo oscuro"
                                     class="theme-sensitive-img"
                                     data-theme="dark"
                                     loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Gesti√≥n de Datos -->
        <section id="data-management" class="activity-section">
            <h2>Gesti√≥n de Datos</h2>
            
            <div class="data-features">
                <div class="data-card">
                    <h3>Historial de C√°lculos</h3>
                    <div class="data-content">
                        <div class="screenshot-container">
                            <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/light/history.webp" 
                                 alt="Historial de c√°lculos en modo claro"
                                 class="theme-sensitive-img"
                                 data-theme="light"
                                 loading="lazy">
                            <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/dark/history.webp" 
                                 alt="Historial de c√°lculos en modo oscuro"
                                 class="theme-sensitive-img"
                                 data-theme="dark"
                                 loading="lazy">
                        </div>
                        
                        <div class="data-desc">
                            <ul>
                                <li>Almacena hasta 50 conversiones recientes</li>
                                <li>Formato: Presi√≥n (GPa) ‚Üí N√∫mero de Onda (cm‚Åª¬π)</li>
                                <li>Limpieza autom√°tica al reiniciar la app</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="data-card">
                    <h3>Importaci√≥n/Exportaci√≥n</h3>
                    <div class="data-content reverse">
                        <div class="data-desc">
                            <ul>
                                <li><strong>Exportar:</strong> Guarda en archivo .txt en la carpeta Descargas</li>
                                <li><strong>Importar:</strong> Carga datos de archivos .txt anteriores</li>
                                <li>Formato compatible con an√°lisis en otros softwares</li>
                            </ul>
                        </div>
                        <div class="screenshot-container">
                            <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/light/import-export.webp" 
                                 alt="Opciones de importaci√≥n/exportaci√≥n en modo claro"
                                 class="theme-sensitive-img"
                                 data-theme="light"
                                 loading="lazy">
                            <img src="/ruby-app-docs/assets/img/screenshots/wavenumber-to-pressure/es/dark/import-export.webp" 
                                 alt="Opciones de importaci√≥n/exportaci√≥n en modo oscuro"
                                 class="theme-sensitive-img"
                                 data-theme="dark"
                                 loading="lazy">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="manual-footer">
        <div class="footer-content">
            <div class="footer-actions">
                <a href="teoria.html" class="footer-button">Fundamentos Te√≥ricos</a>
                <a href="../index.html" class="footer-button">P√°gina de Inicio</a>
            </div>
            
            <div class="footer-meta">
                <p>Versi√≥n de la aplicaci√≥n: 2.1.0</p>
                <p>√öltima actualizaci√≥n: <time datetime="2023-11-20">20/11/2023</time></p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/ruby-app-docs/assets/js/app.js"></script>
    <script>
    // Sistema Completo de Gesti√≥n de Temas
    document.addEventListener('DOMContentLoaded', function() {
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        
        // 1. Configuraci√≥n Inicial
        const currentTheme = localStorage.getItem('theme') || 
                           (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        
        // 2. Actualizar √≠cono seg√∫n tema actual
        function updateThemeIcon(theme) {
            themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            themeToggle.setAttribute('aria-label', theme === 'dark' ? 
                                  'Cambiar a tema claro' : 'Cambiar a tema oscuro');
        }
        
        // 3. Alternador de Tema
        themeToggle.addEventListener('click', function() {
            const isDark = document.documentElement.classList.toggle('dark-mode');
            const newTheme = isDark ? 'dark' : 'light';
            
            // Actualiza almacenamiento y variables
            localStorage.setItem('theme', newTheme);
            window.currentTheme = newTheme;
            
            // Actualiza interfaz
            updateThemeIcon(newTheme);
            
            // Actualiza propiedades CSS
            document.documentElement.style.setProperty('--light-display', isDark ? 'none' : 'block');
            document.documentElement.style.setProperty('--dark-display', isDark ? 'block' : 'none');
            
            // Dispara evento para componentes reactivos
            document.dispatchEvent(new CustomEvent('themeChanged', { 
                detail: { theme: newTheme }
            }));
        });
        
        // 4. Oyente para cambios de tema del sistema
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) { // Solo cambia si no hay preferencia guardada
                const newTheme = e.matches ? 'dark' : 'light';
                document.documentElement.classList.toggle('dark-mode', e.matches);
                updateThemeIcon(newTheme);
                document.documentElement.style.setProperty('--light-display', e.matches ? 'none' : 'block');
                document.documentElement.style.setProperty('--dark-display', e.matches ? 'block' : 'none');
            }
        });
        
        // 5. Inicializaci√≥n
        updateThemeIcon(currentTheme);
        
        // 6. Navegaci√≥n por secciones
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const targetSection = this.getAttribute('href');
                
                // Oculta todas las secciones
                document.querySelectorAll('.activity-section').forEach(section => {
                    section.classList.remove('visible');
                });
                
                // Muestra la secci√≥n objetivo
                document.querySelector(targetSection).classList.add('visible');
                
                // Actualiza navegaci√≥n
                document.querySelectorAll('.nav-btn').forEach(b => {
                    b.classList.remove('active');
                });
                this.classList.add('active');
                
                // Desplazamiento suave
                document.querySelector(targetSection).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    });
    </script>
</body>
</html>
